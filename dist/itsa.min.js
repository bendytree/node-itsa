/*!
 * @license
 * itsa 2.1.189
 * Copyright 2023 Josh Wright <https://www.joshwright.com>
 * MIT LICENSE
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ItsaLib=t():e.ItsaLib=t()}(this,(function(){return(()=>{"use strict";var e={44:(e,t,r)=>{function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){l=!0,o=e},f:function(){try{u||null==r.return||r.return()}finally{if(l)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(589),u=r(28),l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"all",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,a=t.flat().map((function(e){return u.primitiveToItsa(e)})),o=n(a);try{for(o.s();!(i=o.n()).done;){var l,s=i.value,c=n(s.predicates);try{for(c.s();!(l=c.n()).done;){var f=l.value;this.predicates.push(f)}}catch(e){c.e(e)}finally{c.f()}}}catch(e){o.e(e)}finally{o.f()}return this}}])&&a(t.prototype,r),i&&a(t,i),e}();o.Itsa.extend(l)},122:(e,t,r)=>{function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){l=!0,o=e},f:function(){try{u||null==r.return||r.return()}finally{if(l)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaAnd=void 0;var o=r(589),u=r(28),l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"and",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,a=t.flat().map((function(e){return u.primitiveToItsa(e)})),o=n(a);try{for(o.s();!(i=o.n()).done;){var l,s=i.value,c=n(s.predicates);try{for(c.s();!(l=c.n()).done;){var f=l.value;this.predicates.push(f)}}catch(e){c.e(e)}finally{c.f()}}}catch(e){o.e(e)}finally{o.f()}return this}}])&&a(t.prototype,r),i&&a(t,i),e}();t.ItsaAnd=l,o.Itsa.extend(l)},970:(e,t,r)=>{function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){l=!0,o=e},f:function(){try{u||null==r.return||r.return()}finally{if(l)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(589),u=r(28),l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,(r=[{key:"any",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.flat().map((function(e){return u.primitiveToItsa(e)})),i={schemas:n};return this.predicates.push({id:"any",settings:i}),this}}])&&a(t.prototype,r),n&&a(t,n),e}(),s={id:"any",validate:function(e,t){var r=e.key,i=e.val,a=e.parent,o=e.validation,u=e.exists,l=e.result,s=t.schemas;if(0!==s.length){var c,f=[],v=n(s);try{for(v.s();!(c=v.n()).done;){var y=c.value,p=y.predicates.find((function(e){return!["equal","falsy"].includes(e.id)})),d=y._validate({key:r,parent:a,val:i,exists:u,settings:o,path:e.path});if(d.ok)return;p&&f.push(d.message)}}catch(e){v.e(e)}finally{v.f()}1===f.length?l.registerError(f[0],i):l.registerError("No schemas matched.",i)}}};o.Itsa.extend(l,s)},776:(e,t,r)=>{function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaAnything=void 0;var i=r(589),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"anything",value:function(){return this.predicates.push({id:"anything",settings:null}),this}}])&&n(t.prototype,r),i&&n(t,i),e}();t.ItsaAnything=a,i.Itsa.extend(a,{id:"anything",validate:function(e){}})},911:(e,t,r)=>{function n(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaArray=void 0;var o=r(589),u=r(28),l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,(r=[{key:"array",value:function(e){var t={example:e?u.primitiveToItsa(e):null};return this.predicates.push({id:"array",settings:t}),this}}])&&a(t.prototype,r),n&&a(t,n),e}();t.ItsaArray=l,o.Itsa.extend(l,{id:"array",builder:function(e){return[]},validate:function(e,t){var r=e.val,i=e.validation,a=e.exists,o=e.result,u=e.type,l=t.example;if(!Array.isArray(r))return o.registerError("Expected array but found ".concat(u),r);if(l&&r.length)for(var s=0;s<r.length;s++){var c=r[s],f=l._validate({key:s,parent:r,val:c,exists:a,settings:i,path:[].concat(n(e.path),[s])});o.registerResult(f)}}})},850:(e,t,r)=>{function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaBetween=void 0;var i=r(589),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"between",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r;return n.min=e,n.max=t,this.predicates.push({id:"between",settings:n}),this}}])&&n(t.prototype,r),i&&n(t,i),e}();t.ItsaBetween=a,i.Itsa.extend(a,{id:"between",validate:function(e,t){var r,n=e.val,i=e.result,a=t.min,o=t.max,u=null===(r=t.inclusive)||void 0===r||r;(u?n<a:n<=a)&&i.registerError("Value cannot be under ".concat(a),n),(u?n>o:n>=o)&&i.registerError("Value cannot be above ".concat(o),n)}})},233:(e,t,r)=>{function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaBoolean=void 0;var i=r(589),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"boolean",value:function(){return this.predicates.push({id:"boolean",settings:null}),this}}])&&n(t.prototype,r),i&&n(t,i),e}();t.ItsaBoolean=a,i.Itsa.extend(a,{id:"boolean",validate:function(e){var t=e.type,r=e.result,n=e.val;"boolean"!==t&&r.registerError("Expected bool but found ".concat(t),n)}})},152:(e,t,r)=>{function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){l=!0,a=e},f:function(){try{u||null==r.return||r.return()}finally{if(l)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(t,"__esModule",{value:!0});var u=r(589);var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,o;return t=e,(r=[{key:"build",value:function(e){var t=function(e){var t,r=a(e.predicates);try{for(r.s();!(t=r.n()).done;){var n=t.value,i=u.Itsa.validators[n.id];if(i.builder)return i.builder(n.settings)}}catch(e){r.e(e)}finally{r.f()}}(this);return t&&"object"===n(t)&&e&&"object"===n(e)&&Object.assign(t,e),t}}])&&i(t.prototype,r),o&&i(t,o),e}();u.Itsa.extend(l)},758:(e,t,r)=>{function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaClone=t.deepClone=void 0;var a=r(589);t.deepClone=function(e){return function e(t){var r=i(t);if(null===t||"object"!==r)return t;if(Array.isArray(t))return t.map((function(t){return e(t)}));if(t instanceof a.Itsa){var n=new a.Itsa;return n._isOptional=t._isOptional,n.predicates=e(t.predicates),n}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return new RegExp(t);for(var o={},u=0,l=Object.keys(t);u<l.length;u++){var s=l[u];o[s]=e(t[s])}return o}(e)};var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var r,i,a;return r=e,(i=[{key:"clone",value:function(){return t.deepClone(this)}}])&&n(r.prototype,i),a&&n(r,a),e}();t.ItsaClone=o,a.Itsa.extend(o)},438:(e,t,r)=>{function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaConstructor=void 0;var i=r(589),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"constructorIs",value:function(e){var t={cls:e};return this.predicates.push({id:"constructor",settings:t}),this}}])&&n(t.prototype,r),i&&n(t,i),e}();t.ItsaConstructor=a,i.Itsa.extend(a,{id:"constructor",validate:function(e,t){var r=e.val,n=e.result;if(!(null!=r&&r.constructor===t.cls))return n.registerError("Expected to be ".concat(t.cls),r)}})},801:(e,t,r)=>{function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaConvert=void 0;var i=r(589),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"convert",value:function(e){var t={converter:e};return this.predicates.push({id:"convert",settings:t}),this}},{key:"to",value:function(e){var t={converter:e};return this.predicates.push({id:"convert",settings:t}),this}}])&&n(t.prototype,r),i&&n(t,i),e}();t.ItsaConvert=a,i.Itsa.extend(a,{id:"convert",validate:function(e,t){var r=e.val,n=e.setVal,i=e.result,a=t.converter;if("function"==typeof a)try{n(a(r))}catch(e){i.registerError(e,r)}}})},228:(e,t,r)=>{function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaDate=void 0;var i=r(589),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"date",value:function(){return this.predicates.push({id:"date",settings:null}),this}}])&&n(t.prototype,r),i&&n(t,i),e}();t.ItsaDate=a,i.Itsa.extend(a,{id:"date",validate:function(e){var t=e.val,r=e.result,n=Object.prototype.toString.call(t);if("[object Date]"!==n)return r.registerError("Expected date but found ".concat(n),t);isFinite(t)||r.registerError("Date is not valid",t)}})},263:(e,t,r)=>{function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){l=!0,o=e},f:function(){try{u||null==r.return||r.return()}finally{if(l)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.itsaField=t.itsaSchema=t.ItsaSchema=void 0;var a=r(589);function o(e){if(void 0===e)throw new Error("itsaSchema field schema may not be undefined");return function(t,r){var n=t.constructor;if(!Object.getOwnPropertyDescriptor(n,"schema")){var i=n.schema;n.schema=i?i.clone():a.itsa.object({})}n.schema.addProperty(r,e)}}t.ItsaSchema=function e(t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.constructor.schema.build(t)},t.itsaSchema=function(e){return function(t,r){if(r)return o(e)(t,r);t.schema&&e?function(e,t){var r,i=n(t.predicates);try{for(i.s();!(r=i.n()).done;){var a=r.value;if("object"===a.id){var o=a.settings;if(o.example)for(var u=0,l=Object.keys(o.example);u<l.length;u++){var s=l[u];e.addProperty(s,o.example[s])}}else e.predicates.push(a)}}catch(e){i.e(e)}finally{i.f()}t.predicates.find((function(e){var t,r;return"object"===e.id&&!0===(null===(t=e.settings)||void 0===t||null===(r=t.config)||void 0===r?void 0:r.extras)}))&&e.predicates.filter((function(e){return"object"===e.id})).forEach((function(e){return e.settings.config.extras=!0}))}(t.schema,e):e?t.schema=e:t.schema||(t.schema=a.itsa.object({}))}},t.itsaField=o},735:(e,t,r)=>{var n;function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaDefault=void 0;var a=r(589),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,(r=[{key:"default",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.val=e,this.predicates.push({id:"default",settings:t}),this}},{key:"defaultNow",value:function(){return this.predicates.push({id:"defaultNow",settings:null}),this}}])&&i(t.prototype,r),n&&i(t,n),e}();t.ItsaDefault=o,(n=a.Itsa).extend.apply(n,[o].concat([{id:"default",builder:function(e){return e.val},validate:function(e,t){var r,n=e.val,i=e.setVal;(null!==(r=t.falsy)&&void 0!==r&&r?!n:null==n)&&i(t.val)}},{id:"defaultNow",builder:function(e){return new Date},validate:function(e){var t=e.val,r=e.setVal;null==t&&r(new Date)}}]))},609:(e,t,r)=>{function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaEmail=void 0;var i=r(589),a=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"email",value:function(){return this.predicates.push({id:"email",settings:null}),this}}])&&n(t.prototype,r),i&&n(t,i),e}();t.ItsaEmail=o,i.Itsa.extend(o,{id:"email",validate:function(e){var t=e.val,r=e.type,n=e.result;if("string"!==r)return n.registerError("Expected email but found ".concat(r),t);a.test(t)||n.registerError("Email address is invalid",t)}})},151:(e,t,r)=>{function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaEqual=void 0;var i=r(589),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"equal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.example=e,this.predicates.push({id:"equal",settings:t}),this}}])&&n(t.prototype,r),i&&n(t,i),e}();t.ItsaEqual=a,i.Itsa.extend(a,{id:"equal",validate:function(e,t){var r,n=e.val,i=e.result,a=t.example;(null===(r=t.strict)||void 0===r||r?n===a:n==a)||i.registerError("Did not equal ".concat(a),n)}})},229:(e,t,r)=>{function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaExtend=void 0;var i=r(589),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"extend",value:function(e){return e(this),this}}])&&n(t.prototype,r),i&&n(t,i),e}();t.ItsaExtend=a,i.Itsa.extend(a)},947:(e,t,r)=>{function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaFalsy=void 0;var i=r(589),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"falsy",value:function(){return this.predicates.push({id:"falsy",settings:null}),this}}])&&n(t.prototype,r),i&&n(t,i),e}();t.ItsaFalsy=a,i.Itsa.extend(a,{id:"falsy",validate:function(e){var t=e.val,r=e.result;if(t)return r.registerError("Expected falsy value.",t)}})},821:(e,t,r)=>{function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaFunction=void 0;var i=r(589),a=r(28),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"function",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.length&&(e.length=a.primitiveToItsa(e.length)),this.predicates.push({id:"function",settings:e}),this}}])&&n(t.prototype,r),i&&n(t,i),e}();t.ItsaFunction=o,i.Itsa.extend(o,{id:"function",validate:function(e,t){var r=e.val,n=e.type,i=e.result;if("function"!==n)return i.registerError("Expected function",r);if(t.length){var a=t.length._validate({key:"length",parent:null,val:r.length,exists:!0,settings:e.validation,path:e.path});i.registerResult(a)}}})},164:(e,t,r)=>{function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){l=!0,o=e},f:function(){try{u||null==r.return||r.return()}finally{if(l)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaGet=void 0;var o=r(589),u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"get",value:function(e){var t,r=new o.Itsa,i=n(this.predicates);try{for(i.s();!(t=i.n()).done;){var a=t.value;if("object"===a.id){var u=a.settings;if(u.example&&u.example[e]){var l=u.example[e];r._isOptional=r._isOptional||l._isOptional,r.and(l)}}}}catch(e){i.e(e)}finally{i.f()}return r}}])&&a(t.prototype,r),i&&a(t,i),e}();t.ItsaGet=u,o.Itsa.extend(u)},28:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.primitiveToItsa=void 0;var n=r(589);t.primitiveToItsa=function(e){return e instanceof n.Itsa?e:"function"==typeof e?n.itsa.constructorIs(e):n.itsa.equal(e)}},593:(e,t,r)=>{function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaInstanceOf=void 0;var i=r(589),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"instanceof",value:function(e){var t={cls:e};return this.predicates.push({id:"instanceof",settings:t}),this}}])&&n(t.prototype,r),i&&n(t,i),e}();t.ItsaInstanceOf=a,i.Itsa.extend(a,{id:"instanceof",validate:function(e,t){var r=e.val,n=e.result;r instanceof t.cls||n.registerError("Expected instance of ".concat(t.cls),r)}})},273:(e,t,r)=>{function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaInteger=void 0;var i=r(589),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"integer",value:function(){return this.predicates.push({id:"integer",settings:null}),this}}])&&n(t.prototype,r),i&&n(t,i),e}();t.ItsaInteger=a,i.Itsa.extend(a,{id:"integer",validate:function(e){var t=e.val,r=e.result;"number"==typeof t&&!1===isNaN(t)&&-1===[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY].indexOf(t)&&t%1==0||r.registerError("Invalid integer",t)}})},589:function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){l=!0,o=e},f:function(){try{u||null==r.return||r.return()}finally{if(l)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function c(e){var t=p();return function(){var r,n=h(e);if(t){var i=h(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){var t="function"==typeof Map?new Map:void 0;return(v=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return y(e,arguments,h(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,e)})(e)}function y(e,t,r){return(y=p()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&d(i,r.prototype),i}).apply(null,arguments)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),m=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||b(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.itsa=t.Itsa=t.ItsaValidationResultBuilder=t.ItsaValidationResult=t.ItsaValidationException=void 0;var g=function(e){s(r,e);var t=c(r);function r(e){var n;l(this,r),n=t.call(this);var i=e.errors[0].path.join(".");return n.message="".concat(i?"".concat(i,": "):"").concat(e.errors[0].message),n.result=e,n}return r}(v(Error));t.ItsaValidationException=g;var w=function(){function e(){l(this,e),this.ok=!0,this.errors=[]}return u(e,[{key:"okOrThrow",value:function(){if(!this.ok)throw new g(this)}},{key:"addError",value:function(e){this.ok=!1,this.message=e.message,this.errors.push(e)}},{key:"addResult",value:function(e){e.ok||(this.ok=!1);var t,r=i(e.errors);try{for(r.s();!(t=r.n()).done;){var n=t.value;this.errors.push(n)}}catch(a){r.e(a)}finally{r.f()}if(!this.message&&this.errors.length){var a=this.errors[0];this.message=a.message}}}]),e}();t.ItsaValidationResult=w;var j=function(e){s(r,e);var t=c(r);function r(e,n,i,a){var o;return l(this,r),(o=t.call(this)).ok=!0,o.errors=[],o.value=void 0,o.hint=void 0,o.message=void 0,o.key=n,o.exhaustive=e,o.path=i,o.hint=a,o}return u(r,[{key:"registerError",value:function(e,t){var r,n;e=this.hint?"".concat(this.hint,": ").concat(e):e;var i=new w,a=null===(r=this.path)||void 0===r||null===(n=r.join)||void 0===n?void 0:n.call(r,".");if(this.messageFormat){var o=(e=this.messageFormat.replace("{message}",e).replace("{msg}",e).replace("{path}",a)).split("{data}");o.length>1&&(e=o.join(JSON.stringify(t)))}else a&&(e="".concat(a,": ").concat(e));i.addError({message:e,key:this.key,path:this.path}),this.addResult(i)}},{key:"registerResult",value:function(e){if(this.addResult(e),!this.exhaustive&&this.errors.length)throw"STOP_ON_FIRST_ERROR"}},{key:"withMessageFormat",value:function(e){return this.messageFormat=e,this}}]),r}(w);t.ItsaValidationResultBuilder=j;var I=function(){function e(){l(this,e),this._isOptional=!1,this.predicates=[]}return u(e,null,[{key:"extend",value:function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];for(var u=0,l=a;u<l.length;u++){var s=l[u];e.validators[s.id]=s}var c,f=Object.getOwnPropertyNames(r.prototype).filter((function(e){return"constructor"!==e})),v=i(f);try{var y=function(){var n=c.value,i=r.prototype[n];e.prototype[n]=i,"function"==typeof i&&(t.itsa[n]=function(){var t=new e;return t[n].apply(t,arguments)})};for(v.s();!(c=v.n()).done;)y()}catch(e){v.e(e)}finally{v.f()}}}]),e}();t.Itsa=I,I.validators={},t.itsa={predicates:[]},r(44),r(122),r(970),r(776),r(911),r(850),r(233),r(152),r(758),r(438),r(801),r(228),r(735),r(609),r(151),r(229),r(947),r(821),r(593),r(273),r(873),r(206),r(292),r(365),r(377),r(442),r(42),r(899),r(752),r(241),r(76),r(635),r(499),r(700),r(744),r(724),r(409),r(709),r(886),r(457),r(997),r(446),r(164),r(243),m(r(263),t)},873:(e,t,r)=>{function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){l=!0,a=e},f:function(){try{u||null==r.return||r.return()}finally{if(l)throw a}}}}function a(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaKeep=void 0;var l=r(589),s=function(e,t,r){var n,o=t.map((function(e){var t=a(e.split("."));return{key:t[0],rest:t.slice(1)}})),u=i(e.predicates);try{for(u.s();!(n=u.n()).done;){var l=n.value;if("object"===l.id){for(var c=l.settings,f=[],v=function(){var e=p[y],t=c.example[e],n=o.filter((function(t){return t.key===e}));if(n.length){var a,u=i(n);try{for(u.s();!(a=u.n()).done;){var l=a.value;l.rest.length&&s(t,l.rest,r)}}catch(e){u.e(e)}finally{u.f()}}else r.partial?t._isOptional=!0:f.push(e)},y=0,p=Object.keys(c.example);y<p.length;y++)v();for(var d=0,h=f;d<h.length;d++){var b=h[d];delete c.example[b]}}}}catch(e){u.e(e)}finally{u.f()}},c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"keep",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("fields parameter is required");var r=this.clone();return s(r,e,t),r}}])&&n(t.prototype,r),i&&n(t,i),e}();t.ItsaKeep=c,l.Itsa.extend(c)},206:(e,t,r)=>{function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaLength=void 0;var i=r(589),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"length",value:function(e,t){var r={min:e,max:t};return"number"==typeof e&&"number"!=typeof t&&(r={exactly:e}),"number"!=typeof e&&(r={min:1}),this.predicates.push({id:"length",settings:r}),this}}])&&n(t.prototype,r),i&&n(t,i),e}();t.ItsaLength=a,i.Itsa.extend(a,{id:"length",validate:function(e,t){var r=e.val,n=e.result,i=r?r.length:null;return"number"!=typeof i?n.registerError("Invalid length",r):"number"==typeof t.exactly&&t.exactly!==i?n.registerError("Expected length to be ".concat(t.exactly),r):"number"==typeof t.min&&t.min>i?n.registerError("Expected length to be at least ".concat(t.min),r):"number"==typeof t.max&&t.max<i?n.registerError("Expected length to be at most ".concat(t.max),r):void 0}})},292:(e,t,r)=>{function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaMatches=void 0;var i=r(589),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"matches",value:function(e){var t={regex:e};return this.predicates.push({id:"matches",settings:t}),this}}])&&n(t.prototype,r),i&&n(t,i),e}();t.ItsaMatches=a,i.Itsa.extend(a,{id:"matches",validate:function(e,t){var r=e.val,n=e.result;t.regex.test(String(r))||n.registerError("Does not match ".concat(t.regex),r)}})},365:(e,t,r)=>{function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaMax=void 0;var i=r(589),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"max",value:function(e,t){var r,n={max:e,inclusive:t=null===(r=t)||void 0===r||r};return this.predicates.push({id:"max",settings:n}),this}},{key:"under",value:function(e,t){var r,n={max:e,inclusive:t=null!==(r=t)&&void 0!==r&&r};return this.predicates.push({id:"max",settings:n}),this}},{key:"below",value:function(e,t){var r,n={max:e,inclusive:t=null!==(r=t)&&void 0!==r&&r};return this.predicates.push({id:"max",settings:n}),this}},{key:"atMost",value:function(e,t){var r,n={max:e,inclusive:t=null===(r=t)||void 0===r||r};return this.predicates.push({id:"max",settings:n}),this}}])&&n(t.prototype,r),i&&n(t,i),e}();t.ItsaMax=a,i.Itsa.extend(a,{id:"max",validate:function(e,t){var r=e.val,n=e.result,i=t.max;t.inclusive?r<=i||n.registerError("Value must be at most ".concat(i),r):r<i||n.registerError("Value must be less than ".concat(i),r)}})},377:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(589);n.Itsa.prototype.message=n.Itsa.prototype.msg=function(e){var t=this.predicates[this.predicates.length-1];return t.settings=t.settings||{},t.settings._message=e,this}},442:(e,t,r)=>{function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaMin=void 0;var i=r(589),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"min",value:function(e,t){var r,n={min:e,inclusive:t=null===(r=t)||void 0===r||r};return this.predicates.push({id:"min",settings:n}),this}},{key:"over",value:function(e,t){var r,n={min:e,inclusive:t=null!==(r=t)&&void 0!==r&&r};return this.predicates.push({id:"min",settings:n}),this}},{key:"above",value:function(e,t){var r,n={min:e,inclusive:t=null!==(r=t)&&void 0!==r&&r};return this.predicates.push({id:"min",settings:n}),this}},{key:"atLeast",value:function(e,t){var r,n={min:e,inclusive:t=null===(r=t)||void 0===r||r};return this.predicates.push({id:"min",settings:n}),this}}])&&n(t.prototype,r),i&&n(t,i),e}();t.ItsaMin=a,i.Itsa.extend(a,{id:"min",validate:function(e,t){var r=e.val,n=e.result,i=t.min;t.inclusive?r>=i||n.registerError("Value must be at least ".concat(i),r):r>i||n.registerError("Value must be greater than ".concat(i),r)}})},42:(e,t,r)=>{function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaNotEmpty=void 0;var i=r(589),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"notEmpty",value:function(){return this.predicates.push({id:"notEmpty",settings:null}),this}}])&&n(t.prototype,r),i&&n(t,i),e}();t.ItsaNotEmpty=a,i.Itsa.extend(a,{id:"notEmpty",validate:function(e){var t=e.val,r=e.result,n=t?t.length:null;if("number"!=typeof n||!n)if("[object Object]"!==Object.prototype.toString.call(t))r.registerError("Value cannot be empty",t);else{var i=!1;for(var a in t)if(t.hasOwnProperty(a)){i=!0;break}i||r.registerError("Object cannot be empty",t)}}})},899:(e,t,r)=>{function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaNull=void 0;var i=r(589),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"null",value:function(){return this.predicates.push({id:"equal",settings:{example:null,strict:!0}}),this}},{key:"undef",value:function(){var e={example:void 0,strict:!0};return this.predicates.push({id:"equal",settings:e}),this}}])&&n(t.prototype,r),i&&n(t,i),e}();t.ItsaNull=a,i.Itsa.extend(a)},752:(e,t,r)=>{function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaNumber=void 0;var i=r(589),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"number",value:function(){return this.predicates.push({id:"number"}),this}}])&&n(t.prototype,r),i&&n(t,i),e}();t.ItsaNumber=a,i.Itsa.extend(a,{id:"number",validate:function(e){var t=e.val,r=e.type,n=e.result;return"number"!==r?n.registerError("Expected number but type is ".concat(r,"."),t):isNaN(t)?n.registerError("Expected number but found NaN.",t):isFinite(t)?void 0:n.registerError("Expected number but found infinity.",t)}})},241:(e,t,r)=>{function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=a(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){l=!0,o=e},f:function(){try{u||null==r.return||r.return()}finally{if(l)throw o}}}}function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaObject=void 0;var l=r(589),s=r(28),c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,(r=[{key:"object",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null;if(e)for(var n in r={},e)r[n]=s.primitiveToItsa(e[n]);t.key&&(t.key=s.primitiveToItsa(t.key)),t.value&&(t.value=s.primitiveToItsa(t.value));var i={example:r,config:t};return this.predicates.push({id:"object",settings:i}),this}},{key:"addProperty",value:function(e,t){for(var r=this.predicates.length-1;r>=0;r--){var n=this.predicates[r];if("object"===n.id){n.settings||(n.settings={}),n.settings.example||(n.settings.example={}),n.settings.config||(n.settings.config={}),n.settings.example[e]=s.primitiveToItsa(t);break}}return this}}])&&u(t.prototype,r),n&&u(t,n),e}();t.ItsaObject=c,l.Itsa.extend(c,{id:"object",builder:function(e){var t={},r=e.example;if(r)for(var n=0,i=Object.keys(r);n<i.length;n++){var a=i[n],o=r[a];t[a]=o.build()}return t},validate:function(e,t){var r,a=e.val,o=(e.parent,e.validation),u=e.result,l=e.type,s=t.example,c=t.config,f=null!==(r=c.extras)&&void 0!==r&&r;if(!a)return u.registerError("Expected object but value is ".concat(a,"."),a);if("object"!==l)return u.registerError("Expected object but type is ".concat(l,"."),a);if(a instanceof RegExp)return u.registerError("Expected object but type is regex.",a);if(a instanceof Date)return u.registerError("Expected object but type is date.",a);if(Array.isArray(a))return u.registerError("Expected object but type is array.",a);var v=Object.keys(a);if(s){for(var y=Object.keys(s),p=0,d=y;p<d.length;p++){var h=d[p],b=void 0===a[h];if(!(o.partial||c.partial)||!b){var m=s[h]._validate({key:h,parent:a,val:a[h],exists:h in a,settings:o,path:[].concat(i(e.path),[h])});u.registerResult(m)}}if(!f){var g=v.filter((function(e){return!y.includes(e)}));g.length&&u.registerError("Extra unknown properties: ".concat(g.join(", ")),a)}}if(c.key){var w,j=n(v);try{for(j.s();!(w=j.n()).done;){var I=w.value,O=c.key._validate({key:I,parent:a,val:I,exists:!0,settings:o,path:[].concat(i(e.path),[I])});u.registerResult(O)}}catch(e){j.e(e)}finally{j.f()}}if(c.value){var x,E=n(v);try{for(E.s();!(x=E.n()).done;){var k=x.value,S=a[k],_=c.value._validate({key:k,parent:a,val:S,exists:!0,settings:o,path:[].concat(i(e.path),[k])});u.registerResult(_)}}catch(e){E.e(e)}finally{E.f()}}}})},76:(e,t,r)=>{function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaObjectId=void 0;var i=r(589),a=/^[0-9a-f]{24}$/i,o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"objectid",value:function(){return this.predicates.push({id:"objectid",settings:null}),this}}])&&n(t.prototype,r),i&&n(t,i),e}();t.ItsaObjectId=o,i.Itsa.extend(o,{id:"objectid",validate:function(e,t){var r=e.val,n=e.result,i=e.type;return r?"string"!==i?n.registerError("ObjectId must be a string",r):24!==r.length?n.registerError("ObjectId must have 24 characters",r):a.test(r)?void 0:n.registerError("ObjectId may only contain 0-9, a-z",r):n.registerError("ObjectId is required",r)}})},243:(e,t,r)=>{function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(l)throw a}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var c=r(589);var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,(r=[{key:"schema",value:function(e){return this.predicates.push({id:"schema",settings:e}),this}},{key:"toOpenApiSchema",value:function(e){var t,r,n=this;e||(e={}),"isRoot"in e||(e.isRoot=!0);var a,u={},l=this.predicates,c=o(l);try{for(c.s();!(a=c.n()).done;){var f=a.value;u[f.id]=f}}catch(e){c.e(e)}finally{c.f()}var v=function(){if(u.object){var t,r={},a=[],l=o(n.keys());try{for(l.s();!(t=l.n()).done;){var c=t.value,f=n.get(c);f.isRequired()&&a.push(c),r[c]=f.toOpenApiSchema(i(i({},e),{},{isRoot:!1}))}}catch(e){l.e(e)}finally{l.f()}return{type:"object",required:a,properties:r}}if(u.array){var v,y=null===(v=u.array.settings)||void 0===v?void 0:v.example;return i({type:"array"},y?{items:y.toOpenApiSchema(i(i({},e),{},{isRoot:!1}))}:{})}if(u.string||u.email){var p={type:"string"};if(u.email&&(p.format="email"),u.matches){var d,h=(null===(d=u.matches.settings)||void 0===d?void 0:d.regex).toString().match(/^\/(.*?)\/([gimyus]*)$/);h&&(p.pattern=h[1])}return p}if(u.number)return{type:"number"};if(u.integer)return{type:"integer"};if(u.boolean)return{type:"boolean"};if(u.null)return{type:"null"};if(u.objectid)return{type:"string",minLength:24,maxLength:24,pattern:"^[0-9a-f]$"};if(u.date)return{type:"date",format:"date-time"};if(u.equal){var b=u.equal.settings.example;return{type:function(e){return"string"==typeof e?"string":"number"==typeof e?e%1==0?"integer":"number":"boolean"==typeof e?"boolean":null==e?"null":Array.isArray(e)?"array":"object"===s(e)?"object":void 0}(b),const:b}}if(u.any){var m,g,w=(null===(m=u.any)||void 0===m||null===(g=m.settings)||void 0===g?void 0:g.schemas)||[];if(1===w.length)return w[0].toOpenApiSchema(i(i({},e),{},{isRoot:!1}));if(w.length>1){var j=w.map((function(t){return t.toOpenApiSchema(i(i({},e),{},{isRoot:!1}))})),I=j[0].type,O=!j.find((function(e){return e.type!==I})),x=!j.find((function(e){return!("const"in e)}));return O&&x&&["string","number","integer"].includes(I)?{type:I}:{oneOf:w.map((function(t){return t.toOpenApiSchema(i(i({},e),{},{isRoot:!1}))}))}}}return u.anything?null:void 0}();if(!v)return v;if(u.notEmpty&&(v.minLength=1),u.length){var y,p=(null===(y=u.length)||void 0===y?void 0:y.settings)||{},d=p.exactly,h=p.min,b=p.max;"number"==typeof h&&(v.minLength=h),"number"==typeof b&&(v.maxLength=b),"number"==typeof d&&(v.minLength=d,v.maxLength=d)}if(u.between){var m,g=u.between.settings,w=g.min,j=g.max;null===(m=u.between.settings.inclusive)||void 0===m||m?(v.minimum=w,v.maximum=j):(v.exclusiveMinimum=w,v.exclusiveMaximum=j)}if(u.min){var I,O=u.min.settings.min;null===(I=u.min.settings.inclusive)||void 0===I||I?v.minimum=O:v.exclusiveMinimum=O}if(u.max){var x,E=u.max.settings.max;null===(x=u.max.settings.inclusive)||void 0===x||x?v.maximum=E:v.exclusiveMaximum=E}if(u.equal&&(v.const=u.equal.settings.example),u.any){var k,S,_=((null===(k=u.any)||void 0===k||null===(S=k.settings)||void 0===S?void 0:S.schemas)||[]).map((function(t){return t.toOpenApiSchema(i(i({},e),{},{isRoot:!1}))})),A=_[0].type,P=!_.find((function(e){return e.type!==A})),T=!_.find((function(e){return!("const"in e)}));P&&T&&["string","number","integer"].includes(A)&&(v.enum=_.map((function(e){return e.const})))}var C,M=o(l);try{for(M.s();!(C=M.n()).done;){var R=C.value;if("schema"===R.id&&R.settings){for(var N=0,V=Object.keys(R.settings);N<V.length;N++){var F=V[N];"_defaults"!==F&&(v[F]=R.settings[F])}if(R.settings._defaults)for(var q=0,D=Object.keys(R.settings._defaults);q<D.length;q++){var U=D[q];"_defaults"!==U&&(![null,void 0].includes(v[U])||(v[U]=R.settings._defaults[U]))}}}}catch(e){M.e(e)}finally{M.f()}var $=null===(t=(r=e).toRef)||void 0===t?void 0:t.call(r,v);return $&&!e.isRoot?{$ref:$}:v}}])&&l(t.prototype,r),n&&l(t,n),e}();c.Itsa.extend(f,{id:"schema",validate:function(e){}})},635:(e,t,r)=>{function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){l=!0,o=e},f:function(){try{u||null==r.return||r.return()}finally{if(l)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaOptional=void 0;var o=r(589),u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"isRequired",value:function(){return!this._isOptional}},{key:"optional",value:function(e){if(this._isOptional=!0,e){var t,r=n(e.predicates);try{for(r.s();!(t=r.n()).done;){var i=t.value;this.predicates.push(i)}}catch(e){r.e(e)}finally{r.f()}}return this}}])&&a(t.prototype,r),i&&a(t,i),e}();t.ItsaOptional=u,o.Itsa.extend(u)},499:(e,t,r)=>{function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){l=!0,a=e},f:function(){try{u||null==r.return||r.return()}finally{if(l)throw a}}}}function o(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaPartialed=void 0;var s=r(589),c=function e(t,r){Object.keys(t).forEach((function(n){var i=t[n];r(i),i&&"object"===l(i)&&e(i,r)}))},f=function e(t,r){var n,o=a(t.predicates);try{for(o.s();!(n=o.n()).done;){var u=n.value;if("object"===u.id){var l=u.settings;if(r){var f,v=a(r);try{for(v.s();!(f=v.n()).done;){var y=i(f.value.split(".")),p=y[0],d=y.slice(1),h=l.example[p];h&&(d.length?e(h,[d.join(".")]):h._isOptional=!0)}}catch(e){v.e(e)}finally{v.f()}}else l.config.partial=!0}r||c(u,(function(t){t instanceof s.Itsa&&e(t)}))}}catch(e){o.e(e)}finally{o.f()}},v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"partialed",value:function(e){var t=this.clone();return f(t,e),t}}])&&n(t.prototype,r),i&&n(t,i),e}();t.ItsaPartialed=v,s.Itsa.extend(v)},700:(e,t,r)=>{function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaSerialize=void 0;var i=r(589),a=function e(t){var r=Object.prototype.toString.call(t),n="[object Object]"===r;if(!n&&!("[object Array]"===r))return t;for(var a in t)t[a]=e(t[a]);if(n&&t.predicates){var o=new i.Itsa;return o.predicates=t.predicates,o}return t},o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"load",value:function(e){return this.predicates=a(e).predicates,this}},{key:"toJSON",value:function(){return{_isOptional:this._isOptional,predicates:this.predicates}}},{key:"toRaw",value:function(){return this.toJSON()}}])&&n(t.prototype,r),i&&n(t,i),e}();t.ItsaSerialize=o,i.Itsa.extend(o)},744:(e,t,r)=>{function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaString=void 0;var i=r(589),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"string",value:function(){return this.predicates.push({id:"string",settings:null}),this}}])&&n(t.prototype,r),i&&n(t,i),e}();t.ItsaString=a,i.Itsa.extend(a,{id:"string",validate:function(e){var t=e.type,r=e.result,n=e.val;if("string"!==t)return r.registerError("Expected string",n)}})},724:(e,t,r)=>{function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaTo=void 0;var i=r(589),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"toDate",value:function(){return this.predicates.push({id:"toDate",settings:null}),this}},{key:"toFloat",value:function(){return this.predicates.push({id:"toFloat",settings:null}),this}},{key:"toInt",value:function(e){var t={radix:e};return this.predicates.push({id:"toInt",settings:t}),this}},{key:"toLowerCase",value:function(){return this.predicates.push({id:"toLowerCase"}),this}},{key:"toUpperCase",value:function(){return this.predicates.push({id:"toUpperCase"}),this}},{key:"toNow",value:function(){return this.predicates.push({id:"toNow"}),this}},{key:"toString",value:function(){return this.predicates.push({id:"toString"}),this}},{key:"toTrimmed",value:function(){return this.predicates.push({id:"toTrimmed"}),this}}])&&n(t.prototype,r),i&&n(t,i),e}();t.ItsaTo=a,i.Itsa.extend(a,{id:"toDate",validate:function(e){var t=e.val,r=e.setVal,n=e.result,i=new Date(t);if(!isFinite(i.getTime()))return n.registerError("Date conversion failed",t);r(i)}},{id:"toFloat",validate:function(e){var t=e.val,r=e.setVal,n=e.result,i=parseFloat(t);if(isNaN(i))return n.registerError("Float conversion failed",t);r(i)}},{id:"toInt",validate:function(e,t){var r=e.val,n=e.setVal,i=e.result,a=t.radix,o=parseInt(r,null!=a?a:10);if(isNaN(o))return i.registerError("Int conversion failed",r);n(o)}},{id:"toLowerCase",validate:function(e){var t=e.val;(0,e.setVal)(String(t).toLowerCase())}},{id:"toUpperCase",validate:function(e){var t=e.val;(0,e.setVal)(String(t).toUpperCase())}},{id:"toNow",validate:function(e){(0,e.setVal)(new Date)}},{id:"toString",validate:function(e){var t=e.val;(0,e.setVal)(String(t))}},{id:"toTrimmed",validate:function(e){var t=e.val;(0,e.setVal)(String(t).trim())}})},409:(e,t,r)=>{function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){l=!0,o=e},f:function(){try{u||null==r.return||r.return()}finally{if(l)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(589),u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"touch",value:function(e,t){var r=this.predicates.filter((function(e){return"object"===(null==e?void 0:e.id)}));if(!r.length)throw new Error("This is not an object schema.");if(!e)return e;var i,a=n(r);try{for(a.s();!(i=a.n()).done;){var o=i.value.settings.example;if(!o)return e;for(var u=Object.keys(o),l=0,s=u;l<s.length;l++){var c=s[l];c in e||(t?t(c,e):e[c]=void 0)}}}catch(e){a.e(e)}finally{a.f()}return e}},{key:"keys",value:function(){var e=this.touch({});return Object.keys(e)}},{key:"pick",value:function(e){var t,r={},i=n(this.keys());try{for(i.s();!(t=i.n()).done;){var a=t.value;a in e&&(r[a]=e[a])}}catch(e){i.e(e)}finally{i.f()}return r}}])&&a(t.prototype,r),i&&a(t,i),e}();o.Itsa.extend(u)},709:(e,t,r)=>{function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaTruthy=void 0;var i=r(589),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"truthy",value:function(){return this.predicates.push({id:"truthy",settings:null}),this}}])&&n(t.prototype,r),i&&n(t,i),e}();t.ItsaTruthy=a,i.Itsa.extend(a,{id:"truthy",validate:function(e){var t=e.val,r=e.result;if(!t)return r.registerError("Expected truthy value.",t)}})},886:(e,t,r)=>{function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaTypeOf=void 0;var a=r(589),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,(r=[{key:"typeof",value:function(e){var t={type:e};return this.predicates.push({id:"typeof",settings:t}),this}}])&&i(t.prototype,r),n&&i(t,n),e}();t.ItsaTypeOf=o,a.Itsa.extend(o,{id:"typeof",validate:function(e,t){var r=e.val,i=e.result,a=t.type;a!==n(r)&&i.registerError("Expected ".concat(a),r)}})},457:(e,t,r)=>{function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaUnique=void 0;var i=r(589),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"unique",value:function(e){var t={getter:e};return this.predicates.push({id:"unique",settings:t}),this}}])&&n(t.prototype,r),i&&n(t,i),e}();t.ItsaUnique=a,i.Itsa.extend(a,{id:"unique",validate:function(e,t){var r=e.val,n=e.result,i=t.getter,a=new Set;for(var o in r){var u=r[o];if(i&&(u=i(u)),a.has(u))return n.registerError("".concat(u," occurred multiple times"),r);a.add(u)}}})},997:(e,t,r)=>{function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){l=!0,o=e},f:function(){try{u||null==r.return||r.return()}finally{if(l)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0});var u=r(589),l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"_validate",value:function(e){var t=e.key,r=new u.ItsaValidationResultBuilder(e.settings.exhaustive,t,e.path,e.settings.hint);if(r.value=e.val,this._isOptional){if([null,void 0].includes(r.value))return r;if(!r.value){var i=a(r.value);if(this.predicates.map((function(e){return"string"===e.id||"email"===e.id?"string":"number"===e.id?"number":"integer"===e.id?"integer":"boolean"===e.id?"boolean":void 0})).filter((function(e){return e})).includes(i))return r}}try{var o,l=function(t){e.parent?(e.parent[e.key]=t,e.val=t):r.value=t},s=n(this.predicates);try{for(s.s();!(o=s.n()).done;){var c,f=o.value,v=u.Itsa.validators[f.id];if(!v)throw new Error("Validator not found: ".concat(f.id));var y={setVal:l,result:r.withMessageFormat(null===(c=f.settings)||void 0===c?void 0:c._message),val:e.val,key:e.key,parent:e.parent,exists:e.exists,type:a(e.val),validation:e.settings,path:e.path};if(v.validate(y,f.settings),!r.ok)return r}}catch(e){s.e(e)}finally{s.f()}}catch(e){if("STOP_ON_FIRST_ERROR"!==e)throw e}return r}},{key:"validate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._validate({val:e,settings:t,key:null,parent:null,exists:!0,path:[]})}},{key:"validOrThrow",value:function(e,t){this.validate(e,t).okOrThrow()}}])&&o(t.prototype,r),i&&o(t,i),e}();u.Itsa.extend(l)},446:(e,t,r)=>{function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItsaVerify=void 0;var i=r(589),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"verify",value:function(e){var t={verifier:e};return this.predicates.push({id:"verify",settings:t}),this}}])&&n(t.prototype,r),i&&n(t,i),e}();t.ItsaVerify=a,i.Itsa.extend(a,{id:"verify",validate:function(e,t){var r=e.val,n=e.result,i=t.verifier;try{var a=i(r,e);if("boolean"==typeof a)return void(!1===a&&n.registerError("Value is invalid",r));if("string"==typeof a)return n.registerError(a,r)}catch(e){if("STOP_ON_FIRST_ERROR"===e)throw e;return n.registerError(e,r)}}})}},t={};return function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}(589)})()}));
//# sourceMappingURL=itsa.min.js.map