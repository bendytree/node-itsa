{"version":3,"file":"itsa.js","sources":["../src/helpers.ts","../src/any.ts","../src/anything.ts","../src/array.ts","../src/between.ts","../src/boolean.ts","../src/constructor.ts","../src/convert.ts","../src/date.ts","../src/default.ts","../src/email.ts","../src/equal.ts","../src/falsy.ts","../src/function.ts","../src/instanceof.ts","../src/integer.ts","../src/length.ts","../src/matches.ts","../src/max.ts","../src/min.ts","../src/not-empty.ts","../src/null.ts","../src/number.ts","../src/object.ts","../src/objectid.ts","../src/serialize.ts","../src/string.ts","../src/to.ts","../src/truthy.ts","../src/typeof.ts","../src/unique.ts","../src/validate.ts","../src/verify.ts","../src/itsa.ts"],"sourcesContent":["\nimport {itsa, Itsa} from \"./itsa\";\n\nexport declare type ItsaOrPrimative = Itsa | number | string | boolean | null | undefined | Function;\n\n\nexport function primitiveToItsa (val:ItsaOrPrimative):Itsa {\n  if (val instanceof Itsa) {\n    return val;\n  }else if (typeof val === 'function') {\n    return itsa.constructorIs(val);\n  }else {\n    return itsa.equal(val);\n  }\n}\n","import {ItsaValidateContext, Itsa, ItsaValidator} from \"./itsa\";\nimport {ItsaOrPrimative, primitiveToItsa} from \"./helpers\";\n\ninterface ItsaAnySettings {\n  schemas: Itsa[];\n}\n\nclass ItsaAny {\n  any (this:Itsa, ...options:(ItsaOrPrimative | ItsaOrPrimative[])[]):Itsa {\n    const schemas = options.flat().map(x => primitiveToItsa(x)) as Itsa[];\n    const settings:ItsaAnySettings = { schemas };\n    this.predicates.push({ id: 'any', settings });\n    return this as any as Itsa;\n  }\n}\n\nconst validate:ItsaValidator = {\n  id: 'any',\n  validate: (context:ItsaValidateContext, settings:ItsaAnySettings) => {\n    const { key, val, parent, validation, exists, result } = context;\n    const { schemas } = settings;\n\n    if (schemas.length === 0)\n      return;\n\n    for (const subSchema of schemas) {\n      const subResult = subSchema._validate({\n        key,\n        parent,\n        val,\n        exists,\n        settings: validation,\n        path: context.path,\n      });\n      if (subResult.ok) {\n        return;\n      }\n    }\n\n    result.addError(`No schemas matched.`);\n  }\n};\n\nItsa.extend(ItsaAny, validate);\n\ndeclare module './itsa' {\n  interface Itsa extends ItsaAny { }\n}\n","import {Itsa, ItsaValidateContext} from \"./itsa\";\n\nexport class ItsaAnything {\n  anything(this:Itsa):Itsa {\n    this.predicates.push({ id: 'anything', settings:null });\n    return this as any as Itsa;\n  }\n}\n\nItsa.extend(ItsaAnything, {\n  id: 'anything',\n  validate: (context:ItsaValidateContext) => {\n\n  }\n});\n\ndeclare module './itsa' {\n  interface Itsa extends ItsaAnything { }\n}\n","import {Itsa, ItsaValidateContext} from \"./itsa\";\nimport {ItsaOrPrimative, primitiveToItsa} from \"./helpers\";\n\ninterface ItsaArraySettings {\n  example?: Itsa;\n}\n\nexport class ItsaArray {\n  array(this:Itsa, example?:ItsaOrPrimative):Itsa {\n    const settings:ItsaArraySettings = { example: example ? primitiveToItsa(example) : null };\n    this.predicates.push({ id: 'array', settings });\n    return this as any as Itsa;\n  }\n}\n\nItsa.extend(ItsaArray, {\n  id: 'array',\n  validate: (context:ItsaValidateContext, settings:ItsaArraySettings) => {\n    const { val, validation, exists, result, type } = context;\n    const { example } = settings;\n\n    if (!Array.isArray(val)) return result.addError(`Expected array but found ${type}`);\n\n    if (!example) return;\n    if (!val.length) return;\n\n    for (let key=0; key < val.length; key++) {\n      const subVal = val[key];\n      const subResult = example._validate({\n        key,\n        parent: val,\n        val:subVal,\n        exists,\n        settings: validation,\n        path: [...context.path, key],\n      });\n      result.combine(subResult);\n    }\n  }\n});\n\ndeclare module './itsa' {\n  interface Itsa extends ItsaArray { }\n}\n","\nimport {Itsa, ItsaValidateContext} from \"./itsa\";\n\nexport interface ItsaBetweenExtraSettings {\n  inclusive?:boolean;\n}\n\nexport interface ItsaBetweenSettings extends ItsaBetweenExtraSettings {\n  min:any;\n  max:any;\n  inclusive?:boolean;\n}\n\nexport class ItsaBetween {\n  between(this:Itsa, min:any, max:any, extraSettings:ItsaBetweenExtraSettings = {}):Itsa{\n    const settings = extraSettings as ItsaBetweenSettings;\n    settings.min = min;\n    settings.max = max;\n    this.predicates.push({ id: 'between', settings:settings });\n    return this as any as Itsa;\n  }\n}\n\nItsa.extend(ItsaBetween, {\n  id: 'between',\n  validate: (context:ItsaValidateContext, settings:ItsaBetweenSettings) => {\n    const { val, result } = context;\n    const { min, max } = settings;\n    const inclusive = settings.inclusive ?? true;\n    const isTooLow = inclusive ? (val < min) : (val <= min);\n    if (isTooLow) result.addError(`Value cannot be under ${min}`);\n    const isTooHigh = inclusive ? (val > max) : (val >= max);\n    if (isTooHigh) result.addError(`Value cannot be above ${max}`);\n  }\n});\n\ndeclare module './itsa' {\n  interface Itsa extends ItsaBetween { }\n}\n","\nimport { ItsaValidateContext } from \"./itsa\";\nimport { Itsa } from \"./itsa\";\n\nexport class ItsaBoolean {\n  boolean(this:Itsa):Itsa{\n    this.predicates.push({ id: 'boolean', settings:null });\n    return this as any as Itsa;\n  }\n}\n\nItsa.extend(ItsaBoolean, {\n  id: 'boolean',\n  validate: (context:ItsaValidateContext) => {\n    const { type, result } = context;\n    if (type !== 'boolean') result.addError(`Expected bool but found ${type}`);\n  }\n});\n\ndeclare module './itsa' {\n  interface Itsa extends ItsaBoolean { }\n}\n","\nimport { ItsaValidateContext } from \"./itsa\";\nimport { Itsa } from \"./itsa\";\n\nexport interface ItsaConstructorSettings {\n  cls:Function;\n}\n\nexport class ItsaConstructor {\n  constructorIs(this:Itsa, cls:Function):Itsa{\n    const settings: ItsaConstructorSettings = { cls };\n    this.predicates.push({ id: 'constructor', settings });\n    return this as any as Itsa;\n  }\n}\n\nItsa.extend(ItsaConstructor, {\n  id: 'constructor',\n  validate: (context:ItsaValidateContext, settings: ItsaConstructorSettings) => {\n    const { val, result } = context;\n    const isMatch = val !== null && val !== undefined && val.constructor === settings.cls;\n    if (!isMatch) return result.addError(`Expected to be ${settings.cls}`);\n  }\n});\n\ndeclare module './itsa' {\n  interface Itsa extends ItsaConstructor { }\n}\n","\nimport { Itsa, ItsaValidateContext } from \"./itsa\";\n\nexport interface ItsaConvertSettings {\n  converter:Function;\n}\n\nexport class ItsaConvert {\n  convert(this:Itsa, converter:Function):Itsa{\n    const settings: ItsaConvertSettings = { converter };\n    this.predicates.push({ id: 'convert', settings });\n    return this as any as Itsa;\n  }\n  to(this:Itsa, converter:Function):Itsa{\n    const settings: ItsaConvertSettings = { converter };\n    this.predicates.push({ id: 'convert', settings });\n    return this as any as Itsa;\n  }\n}\n\nItsa.extend(ItsaConvert, {\n  id: 'convert',\n  validate: (context:ItsaValidateContext, settings: ItsaConvertSettings) => {\n    const { val, setVal, result } = context;\n    const { converter } = settings;\n    if (typeof converter !== 'function') return;\n    try {\n      const newVal = converter(val);\n      setVal(newVal);\n    }catch(e){\n      result.addError(e);\n    }\n  }\n});\n\ndeclare module './itsa' {\n  interface Itsa extends ItsaConvert { }\n}\n\n","\nimport { ItsaValidateContext } from \"./itsa\";\nimport { Itsa } from \"./itsa\";\n\nexport class ItsaDate {\n  date(this:Itsa):Itsa{\n    this.predicates.push({ id: 'date', settings:null });\n    return this as any as Itsa;\n  }\n}\n\nItsa.extend(ItsaDate, {\n  id: 'date',\n  validate: (context:ItsaValidateContext) => {\n    const { val, result } = context;\n    const type = Object.prototype.toString.call(val);\n    if (type !== \"[object Date]\") {\n      return result.addError(`Expected date but found ${type}`);\n    }\n    if (!isFinite(val)) {\n      result.addError(`Date is not valid`);\n    }\n  }\n});\n\ndeclare module './itsa' {\n  interface Itsa extends ItsaDate { }\n}\n\n","\nimport { Itsa, ItsaValidateContext } from \"./itsa\";\n\nexport interface ItsaDefaultSettings {\n  val?:any;\n  falsy?: boolean;\n}\n\nexport class ItsaDefault {\n  default(this:Itsa, val, settings:ItsaDefaultSettings = {}):Itsa{\n    settings.val = val;\n    this.predicates.push({ id: 'default', settings });\n    return this as any as Itsa;\n  }\n  defaultNow(this:Itsa):Itsa{\n    this.predicates.push({ id: 'defaultNow', settings:null });\n    return this as any as Itsa;\n  }\n}\n\nItsa.extend(\n  ItsaDefault,\n  ...[\n    {\n      id: 'default',\n      validate: (context:ItsaValidateContext, settings:ItsaDefaultSettings) => {\n        const { val, setVal } = context;\n        const falsy = settings.falsy ?? false;\n        const doReplace = falsy ? !val : (val === null || val === undefined);\n        if (doReplace) {\n          setVal(settings.val);\n        }\n      }\n    },\n    {\n      id: 'defaultNow',\n      validate: (context:ItsaValidateContext) => {\n        const { val, setVal } = context;\n        if (val === null || val === undefined) {\n          setVal(new Date());\n        }\n      }\n    }\n  ]\n);\n\ndeclare module './itsa' {\n  interface Itsa extends ItsaDefault { }\n}\n\n","\nimport { Itsa, ItsaValidateContext } from \"./itsa\";\n\nconst rx = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n\nexport class ItsaEmail {\n  email(this:Itsa):Itsa{\n    this.predicates.push({ id: 'email', settings:null });\n    return this as any as Itsa;\n  }\n}\n\nItsa.extend(ItsaEmail, {\n  id: 'email',\n  validate: (context:ItsaValidateContext) => {\n    const { val, type, result } = context;\n    if (type !== 'string') return result.addError(`Expected email but found ${type}`);\n    const isValid = rx.test(val);\n    if (!isValid) {\n      result.addError('Email address is invalid');\n    }\n  }\n});\n\ndeclare module './itsa' {\n  interface Itsa extends ItsaEmail { }\n}\n\n","\nimport { Itsa, ItsaValidateContext } from \"./itsa\";\n\nexport interface ItsaEqualSettings {\n  strict?:boolean;\n  example?:any;\n}\n\nexport class ItsaEqual {\n  equal(this:Itsa, val:any, settings:ItsaEqualSettings = {}):Itsa{\n    settings.example = val;\n    this.predicates.push({ id: 'equal', settings });\n    return this as any as Itsa;\n  }\n}\n\nItsa.extend(ItsaEqual, {\n  id: 'equal',\n  validate: (context:ItsaValidateContext, settings:ItsaEqualSettings) => {\n    const { val, result } = context;\n    const { example } = settings;\n    const strict = settings.strict ?? true;\n    const isEqual = strict ? (val === example) : (val == example);\n    if (!isEqual) {\n      result.addError(`Did not equal ${example}`);\n    }\n  }\n});\n\ndeclare module './itsa' {\n  interface Itsa extends ItsaEqual { }\n}\n\n","\nimport { Itsa, ItsaValidateContext} from \"./itsa\";\n\nexport class ItsaFalsy {\n  falsy(this:Itsa):Itsa{\n    this.predicates.push({ id: 'falsy', settings:null });\n    return this as any as Itsa;\n  }\n}\n\nItsa.extend(ItsaFalsy, {\n  id: 'falsy',\n  validate: (context:ItsaValidateContext) => {\n    const { val, result } = context;\n    if (val) return result.addError(`Expected falsy value.`);\n  }\n});\n\ndeclare module './itsa' {\n  interface Itsa extends ItsaFalsy { }\n}\n\n","\nimport {Itsa, ItsaValidateContext} from \"./itsa\";\nimport {ItsaOrPrimative, primitiveToItsa} from \"./helpers\";\n\ninterface ItsaFunctionSettings {\n  length?:Itsa;\n}\n\ninterface ItsaFunctionIncomingSettings {\n  length?:ItsaOrPrimative;\n}\n\nexport class ItsaFunction {\n  function(this:Itsa, settings:ItsaFunctionIncomingSettings = {}):Itsa{\n    if (settings.length) settings.length = primitiveToItsa(settings.length);\n    this.predicates.push({ id: 'function', settings });\n    return this as any as Itsa;\n  }\n}\n\nItsa.extend(ItsaFunction, {\n  id: 'function',\n  validate: (context:ItsaValidateContext, settings:ItsaFunctionSettings) => {\n    const { val, type, result } = context;\n    if (type !== 'function') return result.addError('Expected function');\n    if (settings.length) {\n      const subResult = settings.length._validate({\n        key: 'length',\n        parent: null,\n        val: val.length,\n        exists: true,\n        settings: context.validation,\n        path: context.path,\n      });\n      result.combine(subResult);\n    }\n  }\n});\n\ndeclare module './itsa' {\n  interface Itsa extends ItsaFunction { }\n}\n\n","import {Itsa, ItsaValidateContext} from \"./itsa\";\n\ninterface ItsaInstanceOfSettings {\n  cls: any;\n}\n\nexport class ItsaInstanceOf {\n  instanceof(this: Itsa, cls:any):Itsa {\n    const settings:ItsaInstanceOfSettings = { cls };\n    this.predicates.push({ id: 'instanceof', settings });\n    return this as any as Itsa;\n  }\n}\n\nItsa.extend(ItsaInstanceOf, {\n  id: 'instanceof',\n  validate: (context: ItsaValidateContext, settings:ItsaInstanceOfSettings) => {\n    const {val, result} = context;\n    const isInstance = val instanceof settings.cls;\n    if (!isInstance) {\n      result.addError(`Expected instance of ${settings.cls}`);\n    }\n  }\n});\n\ndeclare module './itsa' {\n  interface Itsa extends ItsaInstanceOf { }\n}\n","import {Itsa, ItsaValidateContext} from \"./itsa\";\n\nexport class ItsaInteger {\n  integer(this:Itsa):Itsa {\n    this.predicates.push({ id: 'integer', settings:null });\n    return this as any as Itsa;\n  }\n}\n\nItsa.extend(ItsaInteger, {\n  id: 'integer',\n  validate: (context: ItsaValidateContext) => {\n    const {val, result} = context;\n    const valid = typeof val === \"number\"\n      && isNaN(val) === false\n      && [Number.POSITIVE_INFINITY, Number.NEGATIVE_INFINITY].indexOf(val) === -1\n      && val % 1 === 0;\n    if (!valid) {\n      result.addError('Invalid integer');\n    }\n  }\n});\n\ndeclare module './itsa' {\n  interface Itsa extends ItsaInteger { }\n}\n","import {Itsa, ItsaValidateContext} from \"./itsa\";\n\ninterface ItsaLengthSettings {\n  exactly?:number;\n  min?:number;\n  max?:number;\n}\n\nexport class ItsaLength {\n  length(this: Itsa, min?:number, max?:number):Itsa {\n    let settings:ItsaLengthSettings = {\n      min, max\n    };\n    if (typeof min === 'number' && typeof max !== 'number') {\n      settings = { exactly: min };\n    }\n    if (typeof min !== 'number') {\n      settings = { min: 1 };\n    }\n    this.predicates.push({ id: 'length', settings });\n    return this as any as Itsa;\n  }\n}\n\nItsa.extend(ItsaLength, {\n  id: 'length',\n  validate: (context: ItsaValidateContext, settings:ItsaLengthSettings) => {\n    const {val, result} = context;\n    const len = val ? val.length : null;\n    if (typeof len !== 'number') {\n      return result.addError('Invalid length');\n    }\n    if (typeof settings.exactly === 'number' && settings.exactly !== len) {\n      return result.addError(`Expected length to be ${settings.exactly}`);\n    }\n    if (typeof settings.min === 'number' && settings.min > len) {\n      return result.addError(`Expected length to be at least ${settings.min}`);\n    }\n    if (typeof settings.max === 'number' && settings.max < len) {\n      return result.addError(`Expected length to be at most ${settings.max}`);\n    }\n  }\n});\n\ndeclare module './itsa' {\n  interface Itsa extends ItsaLength { }\n}\n","import {Itsa, ItsaValidateContext} from \"./itsa\";\n\ninterface ItsaMatchesSettings {\n  regex:RegExp;\n}\n\nexport class ItsaMatches {\n  matches(this: Itsa, regex:RegExp):Itsa {\n    const settings:ItsaMatchesSettings = { regex };\n    this.predicates.push({ id: 'matches', settings });\n    return this as any as Itsa;\n  }\n}\n\nItsa.extend(ItsaMatches, {\n  id: 'matches',\n  validate: (context: ItsaValidateContext, settings: ItsaMatchesSettings) => {\n    const {val, result} = context;\n    const valid = settings.regex.test(String(val));\n    if (!valid) {\n      result.addError(`Does not match ${settings.regex}`);\n    }\n  }\n});\n\ndeclare module './itsa' {\n  interface Itsa extends ItsaMatches { }\n}\n","import {Itsa, ItsaValidateContext} from \"./itsa\";\n\ninterface ItsaMaxSettings {\n  max:any;\n  inclusive:boolean;\n}\n\nexport class ItsaMax {\n  max(this:Itsa, max:any, inclusive?:boolean):Itsa {\n    inclusive = inclusive ?? true;\n    const settings:ItsaMaxSettings = { max, inclusive };\n    this.predicates.push({ id: 'max', settings });\n    return this as any as Itsa;\n  }\n  under(this:Itsa, max:any, inclusive?:boolean):Itsa {\n    inclusive = inclusive ?? false;\n    const settings:ItsaMaxSettings = { max, inclusive };\n    this.predicates.push({ id: 'max', settings });\n    return this as any as Itsa;\n  }\n  below(this:Itsa, max:any, inclusive?:boolean):Itsa {\n    inclusive = inclusive ?? false;\n    const settings:ItsaMaxSettings = { max, inclusive };\n    this.predicates.push({ id: 'max', settings });\n    return this as any as Itsa;\n  }\n  atMost(this:Itsa, max:any, inclusive?:boolean):Itsa {\n    inclusive = inclusive ?? true;\n    const settings:ItsaMaxSettings = { max, inclusive };\n    this.predicates.push({ id: 'max', settings });\n    return this as any as Itsa;\n  }\n}\n\nItsa.extend(ItsaMax, {\n  id: 'max',\n  validate: (context: ItsaValidateContext, settings: ItsaMaxSettings) => {\n    const { val, result } = context;\n    const { max, inclusive } = settings;\n    if (inclusive) {\n      const ok = val <= max;\n      if (!ok) result.addError(`Value must be at most ${max}`);\n    } else {\n      const ok = val < max;\n      if (!ok) result.addError(`Value must be less than ${max}`);\n    }\n  }\n});\n\ndeclare module './itsa' {\n  interface Itsa extends ItsaMax { }\n}\n","import {Itsa, ItsaValidateContext} from \"./itsa\";\n\ninterface ItsaMinSettings {\n  min:any;\n  inclusive:boolean;\n}\n\nexport class ItsaMin {\n  min(this: Itsa, min:any, inclusive?:boolean):Itsa {\n    inclusive = inclusive ?? true;\n    const settings:ItsaMinSettings = { min, inclusive };\n    this.predicates.push({ id: 'min', settings });\n    return this as any as Itsa;\n  }\n  over(this: Itsa, min:any, inclusive?:boolean):Itsa {\n    inclusive = inclusive ?? false;\n    const settings:ItsaMinSettings = { min, inclusive };\n    this.predicates.push({ id: 'min', settings });\n    return this as any as Itsa;\n  }\n  above(this: Itsa, min:any, inclusive?:boolean):Itsa {\n    inclusive = inclusive ?? false;\n    const settings:ItsaMinSettings = { min, inclusive };\n    this.predicates.push({ id: 'min', settings });\n    return this as any as Itsa;\n  }\n  atLeast(this: Itsa, min:any, inclusive?:boolean):Itsa {\n    inclusive = inclusive ?? true;\n    const settings:ItsaMinSettings = { min, inclusive };\n    this.predicates.push({ id: 'min', settings });\n    return this as any as Itsa;\n  }\n}\n\nItsa.extend(ItsaMin, {\n  id: 'min',\n  validate: (context: ItsaValidateContext, settings: ItsaMinSettings) => {\n    const { val, result } = context;\n    const { min, inclusive } = settings;\n    if (inclusive) {\n      const ok = val >= min;\n      if (!ok) result.addError(`Value must be at least ${min}`);\n    } else {\n      const ok = val > min;\n      if (!ok) result.addError(`Value must be greater than ${min}`);\n    }\n  }\n});\n\ndeclare module './itsa' {\n  interface Itsa extends ItsaMin { }\n}\n","import {Itsa, ItsaValidateContext} from \"./itsa\";\n\nexport class ItsaNotEmpty {\n  notEmpty(this:Itsa):Itsa {\n    this.predicates.push({ id: 'notEmpty', settings:null });\n    return this as any as Itsa;\n  }\n}\n\nItsa.extend(ItsaNotEmpty, {\n  id: 'notEmpty',\n  validate: (context: ItsaValidateContext) => {\n    const { val, result } = context;\n    const len = val ? val.length : null;\n    if (typeof len === 'number' && len) {\n      return;\n    }\n\n    if (Object.prototype.toString.call(val) === \"[object Object]\") {\n      let hasFields = false;\n      for (const key in val) {\n        if (!val.hasOwnProperty(key)) { continue; }\n        hasFields = true;\n        break;\n      }\n      if (!hasFields) {\n        result.addError(`Object cannot be empty`);\n      }\n      return;\n    }\n\n    result.addError(`Value cannot be empty`);\n  }\n});\n\ndeclare module './itsa' {\n  interface Itsa extends ItsaNotEmpty { }\n}\n","import {Itsa} from \"./itsa\";\nimport {ItsaEqualSettings} from \"./equal\";\n\nexport class ItsaNull {\n  null(this:Itsa):Itsa {\n    const settings:ItsaEqualSettings = { example: null, strict: true };\n    this.predicates.push({ id: 'equal', settings });\n    return this as any as Itsa;\n  }\n  undefined(this:Itsa):Itsa {\n    const settings:ItsaEqualSettings = { example: undefined, strict: true };\n    this.predicates.push({ id: 'equal', settings });\n    return this as any as Itsa;\n  }\n}\n\nItsa.extend(ItsaNull);\n\ndeclare module './itsa' {\n  interface Itsa extends ItsaNull { }\n}\n","import {Itsa, ItsaValidateContext} from \"./itsa\";\n\nexport class ItsaNumber {\n  number(this:Itsa):Itsa {\n    this.predicates.push({ id: 'number' });\n    return this as any as Itsa;\n  }\n}\n\nItsa.extend(ItsaNumber, {\n  id: 'number',\n  validate: (context: ItsaValidateContext) => {\n    const {val, type, result} = context;\n    if (type !== 'number') return result.addError(`Expected number but type is ${type}.`);\n    if (isNaN(val)) return result.addError(`Expected number but found NaN.`);\n    if (!isFinite(val)) return result.addError(`Expected number but found infinity.`);\n  }\n});\n\ndeclare module './itsa' {\n  interface Itsa extends ItsaNumber { }\n}\n","\nimport {Itsa, ItsaValidateContext} from \"./itsa\";\nimport {ItsaOrPrimative, primitiveToItsa} from \"./helpers\";\n\ninterface ItsaObjectExample {\n  [key: string]:Itsa;\n}\n\ninterface ItsaObjectExampleWithPrimitives {\n  [key: string]:ItsaOrPrimative;\n}\n\ninterface ItsaObjectConfig {\n  extras?: boolean;\n  key?: Itsa;\n  value?: Itsa;\n}\n\ninterface ItsaObjectSettings {\n  example?: ItsaObjectExample;\n  config: ItsaObjectConfig;\n}\n\nexport class ItsaObject {\n  object(this:Itsa, example?:ItsaObjectExampleWithPrimitives, config:ItsaObjectConfig = {}):Itsa{\n    let convertedExample = null;\n    if (example) {\n      convertedExample = {};\n      for (const key in example) {\n        convertedExample[key] = primitiveToItsa(example[key]);\n      }\n    }\n    if (config.key) {\n      config.key = primitiveToItsa(config.key);\n    }\n    if (config.value) {\n      config.value = primitiveToItsa(config.value);\n    }\n    const settings:ItsaObjectSettings = { example:convertedExample as ItsaObjectExample, config };\n    this.predicates.push({ id: 'object', settings });\n    return this as any as Itsa;\n  }\n}\n\nItsa.extend(ItsaObject, {\n  id: 'object',\n  validate: (context:ItsaValidateContext, settings:ItsaObjectSettings) => {\n    const { val, parent, validation, result, type } = context;\n    const { example, config } = settings;\n    const extras = config.extras ?? false;\n\n    // Validate object\n    if (!val) return result.addError(`Expected object but value is ${val}.`);\n    if (type !== \"object\") return result.addError(`Expected object but type is ${type}.`);\n    if (val instanceof RegExp) return result.addError(`Expected object but type is regex.`);\n    if (val instanceof Date) return result.addError(`Expected object but type is date.`);\n    if (Array.isArray(val)) return result.addError(`Expected object but type is array.`);\n\n    const objectKeys = Object.keys(val);\n\n    if (example) {\n      // Validate according to example\n      const exampleKeys = Object.keys(example);\n      for (const key of exampleKeys) {\n        // For root object, we might skip missing fields\n        if (!parent && validation.partial && !objectKeys.includes(key)) {\n          continue;\n        }\n\n        const subSchema = example[key];\n        const subResult = subSchema._validate({\n          key,\n          parent:val,\n          val: val[key],\n          exists: key in val,\n          settings: validation,\n          path: [...context.path, key],\n        });\n        result.combine(subResult);\n      }\n\n      // Error for extra properties?\n      if (!extras) {\n        const extraKeys = objectKeys.filter(k => !exampleKeys.includes(k));\n        if (extraKeys.length) {\n          result.addError(`Extra unknown properties: ${extraKeys.join(', ')}`);\n        }\n      }\n    }\n\n    if (config.key) {\n      for (const key of objectKeys) {\n        const subResult = config.key._validate({\n          key,\n          parent: val,\n          val: key,\n          exists: true,\n          settings: validation,\n          path: [...context.path, key],\n        });\n        result.combine(subResult);\n      }\n    }\n\n    if (config.value) {\n      for (const key of objectKeys) {\n        const subVal = val[key];\n        const subResult = config.value._validate({\n          key,\n          parent: val,\n          val: subVal,\n          exists: true,\n          settings: validation,\n          path: [...context.path, key],\n        });\n        result.combine(subResult);\n      }\n    }\n  }\n});\n\ndeclare module './itsa' {\n  interface Itsa extends ItsaObject { }\n}\n","\nimport {Itsa, ItsaValidateContext} from \"./itsa\";\n\nconst rxObjectId = /^[0-9a-f]{24}$/i;\n\nexport class ItsaObjectId {\n  objectid(this:Itsa):Itsa{\n    this.predicates.push({ id: 'objectid', settings:null });\n    return this as any as Itsa;\n  }\n}\n\nItsa.extend(ItsaObjectId, {\n  id: 'objectid',\n  validate: (context:ItsaValidateContext, settings?:any) => {\n    const { val, result, type } = context;\n    if (!val) return result.addError('ObjectId is required');\n    if (type !== 'string') return result.addError('ObjectId must be a string');\n    if (val.length !== 24) return result.addError('ObjectId must have 24 characters');\n    if (!rxObjectId.test(val)) return result.addError('ObjectId may only contain 0-9, a-z');\n  }\n});\n\ndeclare module './itsa' {\n  interface Itsa extends ItsaObjectId { }\n}\n","\nimport {Itsa, ItsaPredicate} from \"./itsa\";\n\ntype RawItsa = {predicates:ItsaPredicate[]};\n\nconst convert = (el:any) => {\n  const proto = Object.prototype.toString.call(el);\n  const isObject = `[object Object]` === proto;\n  const isArray = `[object Array]` === proto;\n  if (!isObject && !isArray) {\n    return el;\n  }\n\n  // replace sub-schemas: depth first\n  for (const key in el) {\n    el[key] = convert(el[key]);\n  }\n\n  if (isObject && el.predicates) {\n    const i = new Itsa();\n    i.predicates = el.predicates;\n    return i;\n  }\n\n  return el;\n}\n\nexport class ItsaSerialize {\n  load(this:Itsa, raw:RawItsa):Itsa{\n    this.predicates = convert(raw).predicates;\n    return this as any as Itsa;\n  }\n}\n\nItsa.extend(ItsaSerialize);\n\ndeclare module './itsa' {\n  interface Itsa extends ItsaSerialize { }\n}\n","\nimport {Itsa, ItsaValidateContext} from \"./itsa\";\n\nexport class ItsaString {\n  string(this:Itsa):Itsa{\n    this.predicates.push({ id: 'string', settings:null });\n    return this as any as Itsa;\n  }\n}\n\nItsa.extend(ItsaString, {\n  id: 'string',\n  validate: (context:ItsaValidateContext) => {\n    const { type, result } = context;\n    if (type !== 'string') return result.addError(`Expected string`);\n  }\n});\n\ndeclare module './itsa' {\n  interface Itsa extends ItsaString { }\n}\n","\nimport {Itsa, ItsaValidateContext} from \"./itsa\";\n\ninterface ItsaToIntSettings {\n  radix?:number;\n}\n\nexport class ItsaTo {\n  toDate(this:Itsa):Itsa{\n    this.predicates.push({ id: 'toDate', settings:null });\n    return this as any as Itsa;\n  }\n  toFloat(this:Itsa):Itsa{\n    this.predicates.push({ id: 'toFloat', settings:null });\n    return this as any as Itsa;\n  }\n  toInt(this:Itsa, radix?:number):Itsa{\n    const settings:ItsaToIntSettings = { radix };\n    this.predicates.push({ id: 'toInt', settings });\n    return this as any as Itsa;\n  }\n  toLowerCase(this:Itsa):Itsa{\n    this.predicates.push({ id: 'toLowerCase' });\n    return this as any as Itsa;\n  }\n  toUpperCase(this:Itsa):Itsa{\n    this.predicates.push({ id: 'toUpperCase' });\n    return this as any as Itsa;\n  }\n  toNow(this:Itsa):Itsa{\n    this.predicates.push({ id: 'toNow' });\n    return this as any as Itsa;\n  }\n  toString(this:Itsa):Itsa{\n    this.predicates.push({ id: 'toString' });\n    return this as any as Itsa;\n  }\n  toTrimmed(this:Itsa):Itsa{\n    this.predicates.push({ id: 'toTrimmed' });\n    return this as any as Itsa;\n  }\n}\n\nItsa.extend(\n  ItsaTo,\n  {\n    id: 'toDate',\n    validate: (context:ItsaValidateContext) => {\n      const { val, setVal, result } = context;\n      const date = new Date(val);\n      if (!isFinite(date.getTime())) return result.addError(`Date conversion failed`);\n      setVal(date);\n    }\n  },\n  {\n    id: 'toFloat',\n    validate: (context:ItsaValidateContext) => {\n      const { val, setVal, result } = context;\n      const newFloat = parseFloat(val);\n      if (isNaN(newFloat)) return result.addError(`Float conversion failed`);\n      setVal(newFloat);\n    }\n  },\n  {\n    id: 'toInt',\n    validate: (context:ItsaValidateContext, settings:ItsaToIntSettings) => {\n      const { val, setVal, result } = context;\n      const { radix } = settings;\n      const newInt = parseInt(val, radix ?? 10);\n      if (isNaN(newInt)) return result.addError(`Int conversion failed`);\n      setVal(newInt);\n    }\n  },\n  {\n    id: 'toLowerCase',\n    validate: (context:ItsaValidateContext) => {\n      const { val, setVal } = context;\n      setVal(String(val).toLowerCase());\n    }\n  },\n  {\n    id: 'toUpperCase',\n    validate: (context:ItsaValidateContext) => {\n      const { val, setVal } = context;\n      setVal(String(val).toUpperCase());\n    }\n  },\n  {\n    id: 'toNow',\n    validate: (context:ItsaValidateContext) => {\n      const { setVal } = context;\n      setVal(new Date());\n    }\n  },\n  {\n    id: 'toString',\n    validate: (context:ItsaValidateContext) => {\n      const { val, setVal } = context;\n      setVal(String(val));\n    }\n  },\n  {\n    id: 'toTrimmed',\n    validate: (context:ItsaValidateContext) => {\n      const { val, setVal } = context;\n      setVal(String(val).trim());\n    }\n  },\n);\n\ndeclare module './itsa' {\n  interface Itsa extends ItsaTo { }\n}\n","\nimport {Itsa, ItsaValidateContext} from \"./itsa\";\n\nexport class ItsaTruthy {\n  truthy(this:Itsa):Itsa{\n    this.predicates.push({ id: 'truthy', settings:null });\n    return this as any as Itsa;\n  }\n}\n\nItsa.extend(ItsaTruthy, {\n  id: 'truthy',\n  validate: (context:ItsaValidateContext) => {\n    const { val, result } = context;\n    if (!val) return result.addError(`Expected truthy value.`);\n  }\n});\n\ndeclare module './itsa' {\n  interface Itsa extends ItsaTruthy { }\n}\n","\nimport {Itsa, ItsaValidateContext} from \"./itsa\";\n\ninterface ItsaTypeOfSettings {\n  type: string;\n}\n\nexport class ItsaTypeOf {\n  typeof(this:Itsa, type:string):Itsa{\n    const settings: ItsaTypeOfSettings = { type };\n    this.predicates.push({ id: 'typeof', settings });\n    return this as any as Itsa;\n  }\n}\n\nItsa.extend(ItsaTypeOf, {\n  id: 'typeof',\n  validate: (context:ItsaValidateContext, settings: ItsaTypeOfSettings) => {\n    const { val, result } = context;\n    const { type } = settings;\n    const actualType = typeof val;\n    if (type !== actualType) {\n      result.addError(`Expected ${type}`);\n    }\n  }\n});\n\ndeclare module './itsa' {\n  interface Itsa extends ItsaTypeOf { }\n}\n","\nimport {Itsa, ItsaValidateContext} from \"./itsa\";\n\ninterface ItsaUniqueSettings {\n  getter?: Function;\n}\n\nexport class ItsaUnique {\n  unique(this:Itsa, getter?:Function):Itsa{\n    const settings: ItsaUniqueSettings = { getter };\n    this.predicates.push({ id: 'unique', settings });\n    return this as any as Itsa;\n  }\n}\n\nItsa.extend(ItsaUnique, {\n  id: 'unique',\n  validate: (context:ItsaValidateContext, settings: ItsaUniqueSettings) => {\n    const { val, result } = context;\n    const { getter } = settings;\n    const set = new Set();\n    for (const key in val) {\n      let subVal = val[key];\n      if (getter) subVal = getter(subVal);\n      if (set.has(subVal)) {\n        return result.addError(`${subVal} occurred multiple times`);\n      }\n      set.add(subVal);\n    }\n  }\n});\n\ndeclare module './itsa' {\n  interface Itsa extends ItsaUnique { }\n}\n","\nimport {\n  Itsa,\n  ItsaValidator,\n  ItsaValidateContext,\n  ItsaInternalValidationSettings,\n  ItsaValidationException,\n  ItsaValidationResult,\n  ItsaValidationSettings,\n  ItsaValidationResultBuilder\n} from './itsa';\n\nclass ItsaValidation {\n  _validate(this:Itsa, settings:ItsaInternalValidationSettings):ItsaValidationResultBuilder {\n    const { key } = settings;\n    const result = new ItsaValidationResultBuilder(settings.settings.exhaustive, key, settings.path);\n    result.value = settings.val;\n    try {\n      const setVal = (newVal:any) => {\n        if (settings.parent) {\n          settings.parent[settings.key] = newVal;\n          settings.val = newVal;\n        }else{\n          result.value = newVal;\n        }\n      };\n      for (const predicate of this.predicates) {\n        const validator:ItsaValidator = Itsa.validators[predicate.id];\n\n        /* istanbul ignore next */\n        if (!validator) throw new Error(`Validator not found: ${predicate.id}`);\n\n        const context:ItsaValidateContext = {\n          setVal,\n          result,\n          val: settings.val,\n          key: settings.key,\n          parent: settings.parent,\n          exists: settings.exists,\n          type: typeof settings.val,\n          validation: settings.settings,\n          path: settings.path,\n        };\n        validator.validate(context, predicate.settings);\n        if (!result.ok) return result;\n      }\n    }catch (e){\n      /* istanbul ignore next */\n      if (e !== 'STOP_ON_FIRST_ERROR') throw e;\n    }\n    return result;\n  }\n\n  validate(this:Itsa, val: any, settings:ItsaValidationSettings = {}):ItsaValidationResult {\n    return this._validate({\n      val,\n      settings,\n      key:null,\n      parent:null,\n      exists: true,\n      path: [],\n    });\n  }\n\n  validOrThrow(this:Itsa, val:any, settings?:ItsaValidationSettings) {\n    const result = this.validate(val, settings);\n    if (!result.ok) {\n      const error = new ItsaValidationException(`${result.errors[0].path.join('.')}: ${result.errors[0].message}`);\n      error.result = result;\n      throw error;\n    }\n  }\n}\n\nItsa.extend(ItsaValidation);\n\ndeclare module './itsa' {\n  interface Itsa extends ItsaValidation { }\n}\n","\nimport {Itsa, ItsaValidateContext} from \"./itsa\";\n\ninterface ItsaVerifySettings {\n  verifier: Function;\n}\n\nexport class ItsaVerify {\n  verify(this:Itsa, verifier:Function):Itsa{\n    const settings: ItsaVerifySettings = { verifier };\n    this.predicates.push({ id: 'verify', settings });\n    return this as any as Itsa;\n  }\n}\n\nItsa.extend(ItsaVerify, {\n  id: 'verify',\n  validate: (context:ItsaValidateContext, settings: ItsaVerifySettings) => {\n    const { val, result } = context;\n    const { verifier } = settings;\n    try {\n      const response = verifier(val);\n      if (typeof response === 'boolean') {\n        if (response === false) {\n          result.addError(`Value is invalid`);\n        }\n        return;\n      }\n      if (typeof response === 'string') {\n        return result.addError(response);\n      }\n    }catch(e){\n      if (e === 'STOP_ON_FIRST_ERROR') throw e;\n      return result.addError(e);\n    }\n  }\n});\n\ndeclare module './itsa' {\n  interface Itsa extends ItsaVerify { }\n}\n","\nexport interface ItsaInternalValidationSettings {\n  val:any;\n  key?:string|number;\n  path:(string|number)[];\n  parent?:object|[];\n  exists: boolean;\n  settings:ItsaValidationSettings;\n}\n\nexport interface ItsaValidationSettings {\n  partial?:boolean;\n  exhaustive?:boolean;\n}\n\nexport interface ItsaError {\n  message:string;\n  key:string | number;\n  path:(string | number)[];\n}\n\nexport class ItsaValidationException extends Error {\n  message: string;\n  result: ItsaValidationResult;\n}\n\nexport interface ItsaValidationResult {\n  ok: boolean;\n  errors: ItsaError[];\n  value: any;\n  message?: string;\n}\n\nexport class ItsaValidationResultBuilder implements ItsaValidationResult {\n  ok = true;\n  errors = [];\n  value = undefined;\n  message? = undefined;\n\n  constructor(private exhaustive: boolean, private key: string | number, private path: (string | number)[]) {\n\n  }\n\n  addError (message:string) {\n    this.ok = false;\n    this.message = message;\n    this.errors.push({ message, key:this.key, path:this.path }); // path: null, val,\n    if (!this.exhaustive) {\n      throw 'STOP_ON_FIRST_ERROR';\n    }\n  }\n\n  combine(result: ItsaValidationResult):void{\n    this.ok = this.ok && result.ok;\n    for (const e of result.errors) {\n      this.errors.push(e);\n      if (!this.exhaustive) {\n        throw 'STOP_ON_FIRST_ERROR';\n      }\n    }\n  }\n}\n\nexport interface ItsaValidateContext {\n  parent?:object | [];\n  key?:string | number;\n  path:(string | number)[];\n  exists: boolean;\n  val:any;\n  type: string;\n  setVal:(val:any) => void;\n  validation: ItsaValidationSettings;\n  result: ItsaValidationResultBuilder;\n}\n\nexport interface ItsaPredicate {\n  id:string;\n  settings?:any;\n}\n\nexport interface ItsaValidator {\n  id:string;\n  validate:(ItsaValidateContext, any) => void;\n}\n\ntype ItsaSubclass = new (...args: any[]) => any;\n\nexport class Itsa {\n  predicates:ItsaPredicate[] = [];\n  static validators:{[key:string]:ItsaValidator} = {};\n\n  static extend(cls:ItsaSubclass, ...validators: ItsaValidator[]) {\n    for (const validator of validators) {\n      Itsa.validators[validator.id] = validator;\n    }\n\n    const keys = Object.getOwnPropertyNames(cls.prototype).filter(m => m !== 'constructor');\n    for (const key of keys) {\n      const val = cls.prototype[key];\n      Itsa.prototype[key] = val;\n\n      /* istanbul ignore next */\n      if (typeof val === 'function') {\n        itsa[key] = (...args) => {\n          const it = new Itsa();\n          return it[key](...args);\n        };\n      }\n    }\n  }\n}\n\nexport const itsa:Itsa = { predicates: [] } as Itsa;\n\nimport './any';\nimport './anything';\nimport './array';\nimport './between';\nimport './boolean';\nimport './constructor';\nimport './convert';\nimport './date';\nimport './default';\nimport './email';\nimport './equal';\nimport './falsy';\nimport './function';\nimport './instanceof';\nimport './integer';\nimport './length';\nimport './matches';\nimport './max';\nimport './min';\nimport './not-empty';\nimport './null';\nimport './number';\nimport './object';\nimport './objectid';\nimport './serialize';\nimport './string';\nimport './to';\nimport './truthy';\nimport './typeof';\nimport './unique';\nimport './validate';\nimport './verify';\n"],"names":[],"mappings":"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"}